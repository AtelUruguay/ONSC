<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--    VINCULO     -->
    <template id="legajo_section_informacion_funcional_contracts">
        <h3 class="mb-4" style="background-color:rgb(82, 113, 255);color:white;">
            <strong>VÍNCULOS</strong>
        </h3>
        <t t-foreach="o._get_contracts_sorted()" t-as="contract">
        <ul style="list-style:none; font-size: 1.5rem;">
            <li style="background-color: rgba(82, 113, 255, 0.44); border-radius: 5px;">
                Estado: <span t-field="contract.legajo_state"/>-
                Fecha de alta: <span t-field="contract.date_start" t-options='{"format": "dd/MM/yyyy"}'/>-
                <t t-if="contract.date_end">Fecha de baja: <span t-field="contract.date_end" t-options='{"format": "dd/MM/yyyy"}'/>-</t>
                Inciso: <span t-field="contract.inciso_id.name"/>-
                UE: <span t-field="contract.operating_unit_id.name"/>
            </li>

            <t t-set="job_id" t-value="o._get_contract_active_job(contract)"/>
            <t t-if="job_id">
            <li>UO: <span t-field="job_id.department_id.name"/></li>
            <li>Fecha desde de la UO: <span t-field="job_id.start_date" t-options='{"format": "dd/MM/yyyy"}'/></li>
            </t>
            <li t-if="contract.program">Programa: <span t-field="contract.program"/></li>
            <li t-if="contract.program">Proyecto: <span t-field="contract.project"/></li>
            <li t-if="contract.regime_id">Régimen: <span t-field="contract.regime_id.name"/></li>
            <li t-if="contract.descriptor1_id">Descriptor 1: <span t-field="contract.descriptor1_id.name"/></li>
            <li t-if="contract.descriptor2_id">Descriptor 2: <span t-field="contract.descriptor2_id.name"/></li>
            <li t-if="contract.descriptor3_id">Descriptor 3: <span t-field="contract.descriptor3_id.name"/></li>
            <li t-if="contract.descriptor4_id">Descriptor 4: <span t-field="contract.descriptor4_id.name"/></li>
            <li t-if="contract.income_mechanism_id">Mecanismo de ingreso: <span t-field="contract.income_mechanism_id.name"/></li>
            <li t-if="contract.legajo_state_id">Departamento donde desempeña funciones: <span t-field="contract.legajo_state_id.name"/></li>
            <li t-if="contract.inciso_origin_id">Inciso origen: <span t-field="contract.inciso_origin_id.name"/></li>
            <li t-if="contract.operating_unit_origin_id">Unidad ejecutora origen: <span t-field="contract.operating_unit_origin_id.name"/></li>
            <!--            TODO DESCRIPTORES ORIGEN-->
            <li t-if="contract.extinction_commission_id">Motivo extinción de la comisión: <span t-field="contract.extinction_commission_id.name"/></li>
            <li t-if="contract.date_end_commission">Fecha hasta de la Comisión: <span t-field="contract.date_end_commission" t-options='{"format": "dd/MM/yyyy"}'/></li>
            <li t-if="contract.reason_description">Descripción del motivo alta: <span t-field="contract.reason_description"/></li>
            <li t-if="contract.type_norm_discharge">Tipo de norma alta: <span t-field="contract.type_norm_discharge"/></li>
            <li t-if="contract.norm_number_discharge">Número de norma alta: <span t-field="contract.norm_number_discharge" t-options="{'widget': 'text'}"/></li>
            <li t-if="contract.norm_year_discharge">Año de norma alta: <span t-field="contract.norm_year_discharge" t-options="{'widget': 'text'}"/></li>
            <li t-if="contract.norm_article_discharge">Artículo de norma alta: <span t-field="contract.norm_article_discharge"/></li>
            <li t-if="contract.resolution_date">Fecha de la resolución: <span t-field="contract.resolution_date"/></li>
            <li t-if="contract.resolution_type">Tipo de resolución alta: <span t-field="contract.resolution_type"/></li>
            <li t-if="contract.contract_expiration_date">Vencimiento del contrato: <span t-field="contract.contract_expiration_date" t-options='{"format": "dd/MM/yyyy"}'/></li>
            <li t-if="contract.additional_information">Información adicional alta: <span t-field="contract.additional_information"/></li>
            <li t-if="contract.description_day">Descripción de la Jornada: <span t-field="contract.description_day"/></li>
            <li t-if="contract.retributive_day_id">Jornada retributiva: <span t-field="contract.retributive_day_id.code"/></li>
            <li t-if="contract.type_norm_deregistration">Tipo de norma baja: <span t-field="contract.type_norm_deregistration"/></li>
            <li t-if="contract.norm_number_deregistration">Número de norma baja: <span t-field="contract.norm_number_deregistration" t-options="{'widget': 'text'}"/></li>
            <li t-if="contract.norm_year_deregistration">Año de norma baja: <span t-field="contract.norm_year_deregistration" t-options="{'widget': 'text'}"/></li>
            <li t-if="contract.norm_article_deregistration">Artículo de norma baja: <span t-field="contract.norm_article_deregistration"/></li>
            <li t-if="contract.resolution_date_deregistration">Fecha de la resolución baja: <span t-field="contract.resolution_date_deregistration" t-options='{"format": "dd/MM/yyyy"}'/></li>
            <li t-if="contract.resolution_type_deregistration">Tipo de resolución baja: <span t-field="contract.resolution_type_deregistration"/></li>
            <li t-if="contract.causes_discharge_id">Causal de egreso: <span t-field="contract.causes_discharge_id.name"/></li>
            <li t-if="contract.additional_information_deregistration">Información adicional baja: <span t-field="contract.additional_information_deregistration"/></li>
        </ul>
        </t>
    </template>

    <template id="legajo_section_informacion_funcional">
        <h3 class="mb-4" style="background-color:rgb(82, 113, 255);color:white;">
            <strong>INFORMACIÓN FUNCIONAL</strong>
        </h3>
        <t t-call="onsc_cv_digital_legajo.legajo_section_informacion_funcional_contracts"/>
    </template>
</odoo>
