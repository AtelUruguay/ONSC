<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>
        <record id="onsc_legajo_alta_vl_form" model="ir.ui.view">
            <field name="name">onsc.legajo.alta.vl.form</field>
            <field name="model">onsc.legajo.alta.vl</field>
            <field name="inherit_id" ref="onsc_legajo.onsc_legajo_alta_vl_form"/>
            <field name="arch" type="xml">
                <header position="inside">
                    <button name="action_call_ws4" type="object" string="WS4" states="borrador,error_sgh"/>
                </header>
                <xpath expr="//field[@name='partner_id']" position="after">
                    <field name="cv_emissor_country_id"
                           options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"
                           attrs="{'readonly': [('is_docket', '=', True)]}"
                           string="País"/>
                    <field name="cv_document_type_id"
                           attrs="{'readonly': [('is_docket', '=', True)]}"
                           options="{'no_open': True, 'no_quick_create': True, 'no_create': True}"/>
                    <field name="cv_birthdate" attrs="{'readonly': [('is_docket', '=', True)]}"/>
                    <field name="cv_sex" attrs="{'readonly': [('is_docket', '=', True)]}"/>
                    <field name="is_docket" invisible="1"/>
                </xpath>
                <xpath expr="//div[@name='first_div']" position="before">
                    <field name="is_error_synchronization" invisible="1"/>
                    <div class="alert alert-danger"
                         role="alert"
                         attrs="{'invisible': [('is_error_synchronization', '=', False)]}"
                         style="margin-bottom:0px;">
                        <p>
                            <i class="fa fa-info-circle" role="alert" aria-label="Warning" title="Warning"/>
                            <field name="error_message_synchronization" readonly="1"/>
                        </p>
                    </div>
                </xpath>
                <xpath expr="//notebook" position="inside">
                    <page string="Datos personales">
                        <group>
                            <field name="cv_birthdate" readonly="0"/>
                            <field name="cv_sex" readonly="0"/>
                            <field name="country_of_birth_id" readonly="1"/>
                            <field name="marital_status_id" readonly="1"/>
                            <field name="crendencial_serie" readonly="1"/>
                            <field name="uy_citizenship" readonly="1"/>
                            <field name="credential_number" readonly="1"/>
                            <field name="personal_phone" readonly="1"/>
                            <field name="mobile_phone" readonly="1"/>
                            <field name="mobile_phone" readonly="1"/>
                        </group>
                        <group>
                            <field name="email" readonly="1"/>
                            <field name="cv_address_location_id" readonly="1"/>
                            <field name="cv_address_nro_door" readonly="1"/>
                            <field name="cv_address_apto" readonly="1"/>
                            <field name="cv_address_zip" readonly="1"/>
                            <field name="cv_address_state_id" readonly="1"/>
                            <field name="cv_address_street_id" readonly="1"/>
                            <field name="cv_address_is_cv_bis" readonly="1"/>
                            <field name="cv_address_place" readonly="1"/>
                        </group>
                    </page>
                </xpath>
                <xpath expr="//group[@name='group4_right']" position="inside">
                    <button type="object" name="action_call_ws1" icon="fa-search"
                            class="btn btn-secondary o_group_col_8" string="Buscar"
                            style="margin-left: 25%; width: 10%;"
                            attrs="{'invisible': [('is_presupuestado', '=', True)]}"/>
                </xpath>
                <xpath expr="//group[@name='group5']" position="inside">
                    <field name="vacante_ids" nolabel="1">
                        <tree editable="bottom" create="true" delete="false">
                            <field name="selected" string=""/>
                            <field name="Dsc3Descripcion" readonly="1"/>
                            <field name="Dsc4Descripcion" readonly="1"/>
                            <field name="nroPuesto" readonly="1"/>
                            <field name="nroPlaza" readonly="1"/>
                            <field name="fechaReserva" readonly="1" string="Fecha de creación"/>
                            <field name="descripcionJornadaFormal" readonly="1"/>
                        </tree>
                    </field>
                </xpath>
            </field>
        </record>

        <record id="action_ws4" model="ir.actions.server">
            <field name="name">WS4</field>
            <field name="model_id" ref="onsc_legajo.model_onsc_legajo_alta_vl"/>
            <field name="groups_id"
                   eval="[(4, ref('onsc_legajo.group_legajo_alta_vl_recursos_humanos_inciso')), (4, ref('onsc_legajo.group_legajo_alta_vl_recursos_humanos_ue'))]"/>
            <field name="binding_model_id" ref="onsc_legajo.model_onsc_legajo_alta_vl"/>
            <field name="binding_view_types">list</field>
            <field name="state">code</field>
            <field name="code">records.action_call_ws4()</field>
        </record>
    </data>
</odoo>
